<style>
  .toc-container {
  background: #f8f9fa;
  padding: 10px;
  border-radius: 5px;
}
.toc-container ul {
  list-style-type: none;
  padding-left: 0;
}
.toc-container li {
  margin-bottom: 5px;
}
.toc-indent {
  margin-left: 15px;
}
.toc-double-indent {
  margin-left: 30px;
}
</style>
<div class="toc-container">
  <h2>Table of Contents</h2>
  <ul id="toc"></ul>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const tocContainer = document.getElementById("toc");
    if (!tocContainer) return;

    const headings = document.querySelectorAll("article h2, article h3, article h4");
    let tocHTML = "";

    headings.forEach(heading => {
      const id = heading.id || heading.textContent.toLowerCase().replace(/\s+/g, "-");
      heading.id = id; // Ensure heading has an ID
      const tagName = heading.tagName.toLowerCase();
      const indentClass = tagName === "h3" ? "toc-indent" : tagName === "h4" ? "toc-double-indent" : "";

      tocHTML += `<li class="${indentClass}"><a href="#${id}">${heading.textContent}</a></li>`;
    });

    tocContainer.innerHTML = tocHTML;
  });
</script>
